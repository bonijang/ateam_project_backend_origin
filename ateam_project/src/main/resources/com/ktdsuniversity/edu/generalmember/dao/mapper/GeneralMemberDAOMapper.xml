<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ktdsuniversity.edu.generalmember.dao.GeneralMemberDAO">
<!-- 	<resultMap type="com.ktdsuniversity.edu.generalmember.vo.GeneralMemberVO" -->
<!-- 	           id="generalmemberVOMap" -->
<!-- 	           autoMapping="true"> -->
<!-- 		<id column="GENERAL_MEMBER_EMAIL" property="generalMemberEmail"/> -->
<!-- 		<association property="careerVO" -->
<!-- 				     javaType="com.ktdsuniversity.edu.career.vo.CareerVO"> -->
<!-- 				     <id column="CAREER_ID" property="careerId"/> -->
<!-- 				     <result column="PREVIOUS_COMPANY_NAME" property="previousCompanyName"/> -->
<!-- 				     <result column="JOB_TITLE" property="jobTitle"/> -->
<!-- 				     <result column="HIRE_DATE" property="hireDate"/> -->
<!-- 				     <result column="RESIGN_DATE" property="resignDate"/> -->
<!-- 				     </association> -->
<!-- 	</resultMap> -->
	
<!-- 	<select id="getAllCareerList"  -->
<!-- 		    resultType="generalmemberVOMap"> -->
<!-- 		SELECT C.PREVIOUS_COMPANY_NAME -->
<!-- 			 , C.JOB_TITLE -->
<!-- 			 , TO_CHAR(C.HIRE_DATE,'yyyy-MM-dd') HIRE_DATE -->
<!-- 			 , TO_CHAR(C.RESIGN_DATE,'yyyy-MM-dd') RESIGN_DATE -->
<!-- 	      FROM GENERAL_MEMBER GM -->
<!-- 	      LEFT JOIN CAREER C -->
<!-- 	        ON GM.GENERAL_MEMBER_EMAIL = C.GENERAL_MEMBER_EMAIL -->
<!-- 	</select> -->
	
	<select id="getAllCareerListByMemberEmail"
			parameterType="string"
			resultType="com.ktdsuniversity.edu.career.vo.CareerVO">
		SELECT PREVIOUS_COMPANY_NAME
			 , JOB_TITLE
			 , TO_CHAR(HIRE_DATE,'yyyy-MM-dd') HIRE_DATE
			 , TO_CHAR(RESIGN_DATE,'yyyy-MM-dd') RESIGN_DATE
	      FROM CAREER
	     WHERE GENERAL_MEMBER_EMAIL = #{_parameter}
	     ORDER BY HIRE_DATE DESC
	</select>
</mapper>